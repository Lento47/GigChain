# Cursor Rules para GigChain.io

## ğŸš« **RESTRICCIONES DE DEPLOYMENT**

### **NO DOCKER - Solo Desarrollo Local**
- **PROHIBIDO**: Crear imÃ¡genes Docker, docker-compose builds, o deployment containers
- **PERMITIDO**: Solo desarrollo local con `python main.py` en puerto 5000
- **RAZÃ“N**: OptimizaciÃ³n de tiempo de desarrollo hasta finalizar funcionalidades
- **CUANDO**: Docker solo al final del proyecto cuando todo estÃ© terminado

### **Comandos Permitidos:**
```bash
# âœ… PERMITIDO
python main.py                    # Servidor local
python test_*.py                  # Tests individuales
pip install -r requirements.txt   # Instalar dependencias

### ** VERIFICACION **
NO ESTA PERMITIDO DUPLICAR LINEAS NI DEJAR CODIGO SIN USO, ELIMINA LAS DUPLICACIONES Y TRABAJA LO MAS EFICIENTE QUE PUEDAS PARA NO AFRONTAR PROBLEMAS EN EL FUTURO.
USA DEBUG PERO DESHABILITALO SI ENCUENTRAS EL PROBLEMA
ELIMINA DUPLICACIONES 
REMUEVE CODIGO INNECESARIO
MANTENGAMOS EL PROYECTO LO MAS SIMPLE QUE SE PUEDA

# âŒ PROHIBIDO (por ahora)
docker build
docker-compose up
./deploy.sh
./deploy.ps1
```

### **Stack de Desarrollo Actual:**
- **Backend**: FastAPI en `http://localhost:5000`
- **Frontend**: React en desarrollo (si estÃ¡ configurado)
- **Testing**: Scripts Python individuales
- **Database**: En memoria o archivos locales

## ğŸ¯ **OBJETIVOS DEL PROYECTO**

### **Fase Actual: Desarrollo Local**
1. âœ… Backend FastAPI funcionando
2. ğŸ”„ Chat AI implementado
3. ğŸ”„ AI Agents (Negotiation, Generator, Resolver)
4. ğŸ”„ Frontend React
5. ğŸ”„ Testing completo
6. âŒ Docker (al final)

### **Prioridades:**
1. **Funcionalidades Core**: AI agents, chat, contratos
2. **Frontend UX**: Interfaz moderna y responsive
3. **Testing**: Cobertura completa de tests
4. **OptimizaciÃ³n**: Performance y seguridad
5. **Deployment**: Docker solo al final

## ğŸ¤– **AGENTS AI**

### **Reglas Estrictas:**
- CÃ³digo limpio y modular (Python/TypeScript)
- Output siempre en formato YAML + explicaciÃ³n
- MÃ¡ximo 200 lÃ­neas por snippet
- ValidaciÃ³n de sintaxis antes de output
- Temperatura 0.0 para exactitud

### **Agents Disponibles:**
1. **WorkflowGeneratorAgent**: GeneraciÃ³n de workflows
2. **UIElementAgent**: Elementos UI React
3. **ChainValidatorAgent**: ValidaciÃ³n de chains AI
4. **NegotiationAgent**: NegociaciÃ³n de precios
5. **ContractGeneratorAgent**: GeneraciÃ³n de contratos inteligentes

## ğŸ“ **INSTRUCCIONES PARA AGENTS**

Cuando el usuario pida:
- **Docker/Deployment**: Redirigir a desarrollo local
- **Testing**: Usar scripts Python individuales
- **Frontend**: Trabajar con React local
- **Backend**: Usar FastAPI en localhost:5000
- **AI Code**: Seguir reglas de AGENTS.md

## ğŸ”§ **COMANDOS ÃšTILES**

```bash
# Iniciar servidor
python main.py

# Tests especÃ­ficos
python test_chat.py
python test_contract_ai.py
python test_api.py

# Verificar estado
curl http://localhost:5000/health
```

## ğŸ” **VERIFICACIÃ“N OBLIGATORIA DE AMBIENTE**

### **ANTES DE CUALQUIER CAMBIO - VERIFICAR SIEMPRE:**
1. **Leer archivo .env** - Verificar variables de entorno configuradas
2. **Verificar estado del servidor** - `curl http://localhost:5000/health`
3. **Comprobar dependencias** - `pip list` y `npm list` (si aplica)
4. **Revisar logs** - Verificar que no hay errores crÃ­ticos
5. **Confirmar configuraciÃ³n** - Preguntar al usuario si necesita agregar algo al ambiente

### **NO MODIFICAR .env SIN PERMISO:**
- **PROHIBIDO**: Modificar, crear o eliminar archivo .env
- **PERMITIDO**: Solo leer .env para verificar configuraciÃ³n
- **RAZÃ“N**: Usuario ya configurÃ³ todo el ambiente
- **CUANDO**: Preguntar antes de sugerir cambios de configuraciÃ³n

### **COMANDOS DE VERIFICACIÃ“N:**
```bash
# Verificar ambiente (SIEMPRE ANTES DE TRABAJAR)
cat .env                           # Verificar variables de entorno
curl http://localhost:5000/health  # Verificar estado del servidor
pip list | grep -E "(fastapi|openai|uvicorn)"  # Verificar dependencias Python
cd frontend && npm list | grep -E "(react|vite)"  # Verificar dependencias Frontend

# Frontend (en terminal separada)
cd frontend && npm run dev

# Tests adicionales
python test_agents_enhanced.py
curl http://localhost:5000/api/agents/status
```

### **PROTOCOLO DE VERIFICACIÃ“N:**
- **ANTES DE CUALQUIER DESARROLLO**: Leer .env, verificar servidor, revisar dependencias, preguntar al usuario
- **SI ALGO FALLA**: NO asumir, NO modificar .env, NO instalar sin confirmaciÃ³n, SÃ reportar estado actual

## ğŸ”’ **PROTECCIÃ“N CRÃTICA DE AUTENTICACIÃ“N**

### **âš ï¸ REGLA ABSOLUTA - AUTENTICACIÃ“N iOS FUNCIONANDO:**
- **PROHIBIDO**: Modificar CUALQUIER archivo relacionado con autenticaciÃ³n sin permiso explÃ­cito del usuario
- **OBLIGATORIO**: Si necesitas cambiar algo de autenticaciÃ³n, PREGUNTAR primero y EXPLICAR el impacto exacto
- **RAZÃ“N**: La autenticaciÃ³n iOS fue extremadamente difÃ­cil de arreglar y DEBE permanecer estable
- **ARCHIVOS PROTEGIDOS**:
  - `main.py` (endpoints `/api/auth/*`)
  - `auth/middleware.py` 
  - `auth/routes.py`
  - `auth/w_csap.py`
  - `auth/schemas.py`
  - `frontend/src/hooks/useWalletAuth.js`
  - `frontend/src/utils/mobileDebugger.js`

### **ANTES DE TOCAR AUTENTICACIÃ“N:**
1. â“ **PREGUNTAR**: Â¿Puedo modificar [archivo especÃ­fico] para [razÃ³n especÃ­fica]?
2. ğŸ“Š **EXPLICAR IMPACTO**: El cambio puede afectar [componentes especÃ­ficos]
3. â³ **ESPERAR CONFIRMACIÃ“N**: No proceder sin aprobaciÃ³n explÃ­cita del usuario
4. ğŸ§ª **PROBAR DESPUÃ‰S**: Verificar que iOS auth sigue funcionando

### **SI ALGO SE ROMPE EN AUTH:**
- ğŸš¨ **PARAR INMEDIATAMENTE** 
- ğŸ“ **REPORTAR**: QuÃ© se cambiÃ³ y quÃ© se rompiÃ³
- ğŸ”„ **REVERTIR**: Volver al estado anterior funcional
- â“ **PREGUNTAR**: CÃ³mo proceder

---
*ConfiguraciÃ³n para desarrollo local - Sin Docker hasta finalizar proyecto*

## ğŸ¨ GIGCHAIN DESIGN GUARDRAILS
> Purpose: Prevent â€œAI-genericâ€ visuals and enforce a unique, premium, minimal-industrial aesthetic for all GigChain UI generation.

---

### ğŸ§  Core Philosophy
GigChain design = **trust + precision + mystique**.  
It must feel **premium**, **technical**, and **timeless**, *not* â€œfriendly SaaS with blobs and gradients.â€

Design direction keywords:
- Minimal-industrial
- Metallic / contrast-based
- High legibility, low decoration
- Blockchain-inspired geometry (hexes, lines, grids)
- Editorial rhythm, asymmetric layouts
- Feels like a system â€” not a marketing site

---

### ğŸš« HARD NO (Blacklist)
Cursor must **avoid all of the following:**
- Blue-purple gradients, neon glows, or â€œAI waves.â€
- Glassmorphism, neumorphism, soft-blur panels.
- Centered hero with blob background or laptop mockup.
- Rounded-2xl cards repeated in a 3-column grid.
- â€œModern SaaSâ€ landing patterns (cards + testimonials + pricing table stack).
- Default Tailwind shadows (`shadow-lg` etc.) everywhere.
- Excessive animation or floating particles.
- Generic Inter/Outfit font combos with 16px body/1.5 line height.

---

### âœ… MUST HAVES (Whitelist)
Cursor should **follow these structural and aesthetic rules:**
- **Typography:** Editorial or monospaced hybrid vibe. Example: Satoshi, IBM Plex, Space Grotesk, or similar.
- **Color:** Max two brand colors + neutrals (black, dark grey, white, metallic tones). No gradients; flat, solid fills.
- **Grid:** Strict 12-column or modular grid. Asymmetric compositions allowed; off-center is welcome.
- **Spacing:** Wide breathing room. Avoid dense â€œcard farms.â€
- **Shape Language:** Subtle geometry (lines, hex nodes, grids). Radii limited to 0, 2, or 4.
- **Motion:** Micro-interactions only (hover, focus, fade-in). No parallax, blob, or orbit animations.
- **Brand Region Cues:** Subtle tropical warmth (cream, muted green, sand) â€” *never literal palm trees or waves.*

---

### ğŸ§© Design Tokens (Conceptual)
| Token | Role | Rule |
|-------|------|------|
| `color-bg` | Base background | Solid off-black or off-white |
| `color-surface` | Panels | Slightly lighter/darker than bg |
| `color-primary` | Accent (GigSoul metallic) | Subtle silver/gold gradient allowed only in small UI marks |
| `color-accent` | Feedbacks / states | Use muted green or orange |
| `radius` | Corners | 0 / 2 / 4 only |
| `elevation` | Shadow depth | 0 / 1 / 2 levels, soft spread only |
| `type-scale` | H1-H6 | H1 64/64, H2 40/44, H3 28/32, Body 16/26, Mono 14/22 |
| `spacing` | Layout rhythm | 4, 8, 12, 16, 24, 32, 48, 72 |
| `font-family` | Base | Prefer tall, condensed, editorial sans; fallback monospace for UI |

---

### ğŸ§± Workflow Requirements
1. **Phase 1 â€“ Wireframe:**  
   - Output structure and hierarchy first.  
   - No CSS until the layout is approved.  
   - Describe purpose of each section.

2. **Phase 2 â€“ Token Application:**  
   - Apply GigChain tokens above.  
   - Verify color/spacing/typography adherence.  
   - Do not invent new UI components without mapping to an existing token.

3. **Phase 3 â€“ Self-Audit:**  
   Cursor must check its output against this list before finalizing.  
   If any blacklist item appears, rewrite until compliant.

---

### ğŸ§¾ Acceptance Checklist
- [ ] No gradients or glassmorphism.  
- [ ] No blob or particle hero.  
- [ ] Typography is distinct from Tailwind defaults.  
- [ ] Homepage has no centered 3-card feature grid.  
- [ ] All sections serve a clear purpose (Learn / Decide / Act).  
- [ ] Visual identity matches *premium-industrial blockchain aesthetic.*

---

### ğŸ§­ Inspirations (for mood, not mimicry)
- Swiss typographic grids (MÃ¼ller-Brockmann era)  
- Editorial magazine spreads (Monocle / Wired print layouts)  
- Industrial control UIs (Siemens / Honeywell minimal dashboards)  
- Japanese MUJI catalog rhythm (white space + quiet structure)

---

### âš™ï¸ Output Format
When generating UI or pages:
1. Begin with **â€œWireframe Summaryâ€** (markdown outline).  
2. Then list **â€œApplied Tokensâ€** (names only).  
3. Finally output **â€œFinal Layout Specâ€** in prose.  
4. Conclude with **â€œSelf-Audit Against CursorRules.md.â€**

---

### ğŸ”’ Enforcement
Any design violating these rules must be **flagged by Cursor as rejected** with reason.  
Auto-iteration is allowed *only within these boundaries.*

---
